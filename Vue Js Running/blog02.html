<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>Vue 再学习 02 - 组件</title>
    <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">

    <style>

    </style>
</head>
<body>
<p>把实例的基础属性过了一遍，现在来看事件以及之前很少接触的动画过渡效果。</p>

<ul>
    <li><a href="#con1">1 组件</a></li>
    <li><a href="#con2">2 slot</a></li>
    <li><a href="#con3">3 过渡与动画</a></li>
    <li><a href="#con4">4 Vue操作数组</a></li>
    <li><a href="#con5">5 双向绑定的补充</a></li>
    <li><a href="#con6">6 computed属性的set</a></li>
    <li><a href="#con7">7 watch监听对象属性和获取新旧值</a></li>
    <li><a href="#con71">7.1 监听对象的属性</a></li>
    <li><a href="#con72">7.2 监听时获取变化前后的值</a></li>
    <li><a href="#con73">7.3 深度监听</a></li>
    <li><a href="#con8">8 filter补遗</a></li>
    <li><a href="#con9">9 ref引用</a></li>
</ul>

<h1 id="con1" style="text-align: center;">组件</h1>
<p>组件的本质是什么，从JS代码和Vue的角度来说，就是一个规定好属性和值写法的对象，和新创建Vue实例传入的对象没有本质上的区别。</p>
<p>当然与直接生成Vue实例相比，组件还是有属于自己的特点，那就是不同的属性及其作用。就单个组件来说，最大的变化是<code>template</code>属性，也就是组件要渲染的HTML部分。</p>
<p>此外data变成了一个函数，返回了一个对象，这是因为组件需要复用，如果指定为具体值，则各个组件都会共享基础数据，就比较可怕了。</p>
<p>还有一个重要的就是<code>props</code>，表示父组件传入的数据。</p>

<h3 id="con11" style="text-align: center;">props</h3>
<p>props的属性有类型，是否required，默认值，这个都已经知道了。新了解的是还可以有一个叫做<code>validator</code>名称的方法，用于验证这个属性是否OK。返回true就说明OK。：</p>
<pre>
&lt;div id="app">
    &lt;list :price="3">&lt;/list>
    &lt;list :price="-33">&lt;/list>
&lt;/div>

&lt;script src="https://unpkg.com/vue">&lt;/script>
&lt;script>
    Vue.component('list', {
        template: '&lt;div>Price is {{price}}&lt;/div>',
        props: {
            price:{
                type:Number,
                default:0,
                validator(val){
                    return val >= 0;
                }
            }
        }
    });
    new Vue({
        el: '#app'
    });
&lt;/script>
</pre>
<p>这个运行起来，Vue会提示：</p>
<pre>
vue.js:634 [Vue warn]: Invalid prop: custom validator check failed for prop "price".

found in

---> &lt;List>
       &lt;Root>
</pre>
<p>注意这个方法只能是这个名称，不能修改名称。</p>

<h1 id="con2" style="text-align: center;">slot</h1>
<p>之前已经知道普通插槽，具名插槽和作用域插槽。现在slot和作用域插槽都要废弃，引入了<code>v-slot</code>指令，只能作用于<code>&lt;template&gt;</code>元素。</p>
<p>v-slot的插槽可以采取加上名称的方式指定具名的插槽。</p>

































</body>
</html>
