<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>第二章笔记</title>
    <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">
    <style>

    </style>
</head>
<body>
<h1 style="text-align: center;">CSAPP 第二章 整数的表示</h1>
<p>袁春风的书讲的稀里糊涂。确实直接看CSAPP就很好。</p>
<p>整数的大类有两种，一种只能表示非负数，一种可以表示负数，零和正数。虽然通常叫无符号数，但是CSAPP的这个讲法显然更容易懂。</p>

<h1 style="text-align: center;">无符号数的编码</h1>
<p>无符号数的编码，等于每位二进制数乘以总权重，最右边一位是2的0次方，然后是2的1次方。依次类推。</p>
<p>无符号数是一个双向映射，即每个无符号数可以映射到唯一一个二进制数，反过来也成立。</p>

<h1 style="text-align: center;">补码编码</h1>
<p>CSAPP这个讲的真是棒。没有讲什么取反+1，而是用了最高位的权重为负数来解释。</p>
<p>1101如果按4位字长来解释，无符号数的话，就是1*8+1*4+0*2+1 = 13，而如果按照补码表示，第一位如果是0，就正常计算，如果是1，要乘以-1。</p>
<p>1101按补码解释，就是-1*8+4*1+0*2+1 = -3。最高位的权重8，就是模。</p>
<p>补码也是双向映射，是唯一的。</p>
<h3>2.17 4位字长的无符号和补码表示</h3>
<table>
    <thead>
    <tr>
        <th>十六进制</th>
        <th>二进制</th>
        <th>无符号数</th>
        <th>补码表示</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>0xE</td>
        <td>1110</td>
        <td>14</td>
        <td>-2</td>
    </tr>
    <tr>
        <td>0x0</td>
        <td>0000</td>
        <td>0</td>
        <td>0</td>
    </tr>
    <tr>
        <td>0x5</td>
        <td>0101</td>
        <td>5</td>
        <td>5</td>
    </tr>
    <tr>
        <td>0x8</td>
        <td>1000</td>
        <td>8</td>
        <td>-8</td>
    </tr>
    <tr>
        <td>D</td>
        <td>1101</td>
        <td>13</td>
        <td>-3</td>
    </tr>
    <tr>
        <td>0xF</td>
        <td>1111</td>
        <td>15</td>
        <td>-1</td>
    </tr>
    </tbody>
</table>
<p>有一些特别字长的数字要记住，这些可以在C语言的&lt;limits.h&gt;里找到。</p>
<h3>2.18 十六进制转补码</h3>
<ol>
    <li>0x2e0 = 2*16*16+14*16 = 736</li>
    <li>-0x58 = -88</li>
    <li>0x28 = 40</li>
    <li>-0x30 = -48</li>
    <li>0x78 = 120</li>
    <li>0x88 = 136</li>
    <li>0x1f8 = 504</li>
    <li>0xc0 = 192</li>
    <li>-0x48 = -72</li>
</ol>

<h1 style="text-align: center;">有符号数和无符号数的转换</h1>
<p>C语言里，强制转换有符号和无符号数，底层表示不变，只是解释变了。</p>
<pre>
int main()
{

    short int v = -12345;
    unsigned short uv = (unsigned short) v;

    printf("u = %d, uv=%u\n", v, uv);

}
</pre>
<p>大多数C语言的实现里，同样字长的无符号和有符号数转换，显示数值会改变，但二进制位不会改变。</p>
<p>补码和无符号数的关系是1+无符号w字长的最大值 = 2的w次方</p>
<h3>2.19 将补码转换成无符号数之后的实际大小</h3>
<p>按照前边的转换规则，二进制数相同，只是解释不同。</p>
<table>
    <thead>
    <tr>
        <th>x</th>
        <th>T2U4(x) 补码转无符号数</th>
    </tr>
    </thead>
    <tr>
        <td>-8</td>
        <td>8</td>
    </tr>
    <tr>
        <td>-3</td>
        <td>13</td>
    </tr>
    <tr>
        <td>-2</td>
        <td>14</td>
    </tr>
    <tr>
        <td>-1</td>
        <td>15</td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
    </tr>
    <tr>
        <td>5</td>
        <td>5</td>
    </tr>
</table>






















<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>

</body>
</html>
