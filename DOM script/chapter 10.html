<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>STYLE属性</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #e8e8e8;
            position: relative;
        }

        #message {
            height: 50px;
            width: 50px;
            background-color: #e67e22;
        }
    </style>
</head>
<body>
<p id="message">Whee!</p>


<script>
    let move = null;

    function positionMessage() {
        if (!document.getElementById) return false;
        if (!document.getElementById('message')) return false;
        let elem = document.getElementById('message');
        elem.style.position = 'absolute';
        elem.style.top = "10px";
        elem.style.left = "10px";
        move = setInterval(moveMessage,20);
    }

    function addLoadEvent(func) {
        let oldonload = window.onload;
        if (typeof window.onload !== 'function') {
            window.onload = func;
        } else {
            window.onload = function () {
                oldonload();
                func();
            }
        }
    }
    
    function moveMessage() {
        if(!document.getElementById("message"))return false;
        if (!document.getElementById('message')) return false;
        let elem = document.getElementById("message");
        let top = parseInt(elem.style.top);
        let left = parseInt(elem.style.left);
        if(top<200){
            top++;
        }
        if(top>200){
            top--;
        }
        elem.style.top = top+"px";
        if(left<200){
            left++;
        }
        if(left>200){
            left--;
        }
        elem.style.left = left+"px";
    }

    addLoadEvent(positionMessage);


</script>
</body>
</html>